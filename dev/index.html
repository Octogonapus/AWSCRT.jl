<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · AWSCRT.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://Octogonapus.github.io/AWSCRT.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>AWSCRT.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Octogonapus/AWSCRT.jl/blob/master/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="AWSCRT"><a class="docs-heading-anchor" href="#AWSCRT">AWSCRT</a><a id="AWSCRT-1"></a><a class="docs-heading-anchor-permalink" href="#AWSCRT" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/Octogonapus/AWSCRT.jl">AWSCRT</a>.</p><ul><li><a href="#AWSCRT.AWSCRT"><code>AWSCRT.AWSCRT</code></a></li><li><a href="#AWSCRT.ClientBootstrap-Tuple{EventLoopGroup, HostResolver}"><code>AWSCRT.ClientBootstrap</code></a></li><li><a href="#AWSCRT.ClientBootstrap"><code>AWSCRT.ClientBootstrap</code></a></li><li><a href="#AWSCRT.ClientTLSContext-Tuple{AWSCRT.TLSContextOptions}"><code>AWSCRT.ClientTLSContext</code></a></li><li><a href="#AWSCRT.ClientTLSContext"><code>AWSCRT.ClientTLSContext</code></a></li><li><a href="#AWSCRT.EventLoopGroup"><code>AWSCRT.EventLoopGroup</code></a></li><li><a href="#AWSCRT.EventLoopGroup"><code>AWSCRT.EventLoopGroup</code></a></li><li><a href="#AWSCRT.HostResolver"><code>AWSCRT.HostResolver</code></a></li><li><a href="#AWSCRT.HostResolver"><code>AWSCRT.HostResolver</code></a></li><li><a href="#AWSCRT.MQTTClient"><code>AWSCRT.MQTTClient</code></a></li><li><a href="#AWSCRT.MQTTConnection"><code>AWSCRT.MQTTConnection</code></a></li><li><a href="#AWSCRT.OnConnectionInterrupted"><code>AWSCRT.OnConnectionInterrupted</code></a></li><li><a href="#AWSCRT.OnConnectionResumed"><code>AWSCRT.OnConnectionResumed</code></a></li><li><a href="#AWSCRT.OnMessage"><code>AWSCRT.OnMessage</code></a></li><li><a href="#AWSCRT.OnShadowMessage"><code>AWSCRT.OnShadowMessage</code></a></li><li><a href="#AWSCRT.ShadowClient"><code>AWSCRT.ShadowClient</code></a></li><li><a href="#AWSCRT.TLSConnectionOptions"><code>AWSCRT.TLSConnectionOptions</code></a></li><li><a href="#AWSCRT.TLSConnectionOptions"><code>AWSCRT.TLSConnectionOptions</code></a></li><li><a href="#AWSCRT.TLSContextOptions"><code>AWSCRT.TLSContextOptions</code></a></li><li><a href="#AWSCRT.Will"><code>AWSCRT.Will</code></a></li><li><a href="#AWSCRT.connect-Tuple{MQTTConnection, String, Integer, String}"><code>AWSCRT.connect</code></a></li><li><a href="#AWSCRT.create_client_with_mtls-Tuple{Any, Any}"><code>AWSCRT.create_client_with_mtls</code></a></li><li><a href="#AWSCRT.create_client_with_mtls_from_path-Tuple{Any, Any}"><code>AWSCRT.create_client_with_mtls_from_path</code></a></li><li><a href="#AWSCRT.create_server-Tuple{Any, Any}"><code>AWSCRT.create_server</code></a></li><li><a href="#AWSCRT.create_server_from_path-Tuple{Any, Any}"><code>AWSCRT.create_server_from_path</code></a></li><li><a href="#AWSCRT.disconnect-Tuple{MQTTConnection}"><code>AWSCRT.disconnect</code></a></li><li><a href="#AWSCRT.on_message-Tuple{MQTTConnection, Union{Nothing, Function}}"><code>AWSCRT.on_message</code></a></li><li><a href="#AWSCRT.publish"><code>AWSCRT.publish</code></a></li><li><a href="#AWSCRT.publish-Tuple{ShadowClient, String, String, LibAWSCRT.aws_mqtt_qos}"><code>AWSCRT.publish</code></a></li><li><a href="#AWSCRT.resubscribe_existing_topics-Tuple{MQTTConnection}"><code>AWSCRT.resubscribe_existing_topics</code></a></li><li><a href="#AWSCRT.subscribe-Tuple{ShadowClient, String, Union{Nothing, String}, LibAWSCRT.aws_mqtt_qos, Function}"><code>AWSCRT.subscribe</code></a></li><li><a href="#AWSCRT.subscribe-Tuple{MQTTConnection, String, LibAWSCRT.aws_mqtt_qos, Function}"><code>AWSCRT.subscribe</code></a></li><li><a href="#AWSCRT.unsubscribe-Tuple{ShadowClient}"><code>AWSCRT.unsubscribe</code></a></li><li><a href="#AWSCRT.unsubscribe-Tuple{MQTTConnection, String}"><code>AWSCRT.unsubscribe</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.AWSCRT" href="#AWSCRT.AWSCRT"><code>AWSCRT.AWSCRT</code></a> — <span class="docstring-category">Module</span></header><section><div><p>Environment variables:</p><ul><li><code>AWS_CRT_MEMORY_TRACING</code>: Set to <code>0</code>, <code>1</code>, or <code>2</code> to enable memory tracing. Default is off. See <a href="@ref"><code>aws_mem_trace_level</code></a>.</li><li><code>AWS_CRT_MEMORY_TRACING_FRAMES_PER_STACK</code>: Set the number of frames per stack for memory tracing. Default is the AWS library&#39;s default.</li><li><code>AWS_CRT_LOG_LEVEL</code>: Set to <code>0</code> through <code>6</code> to enable logging. Default is off. See <a href="@ref"><code>aws_log_level</code></a>.</li><li><code>AWS_CRT_LOG_PATH</code>: Set to the log file path. Must be set if <code>AWS_CRT_LOG_LEVEL</code> is set.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSCRT.jl#L1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.ClientBootstrap" href="#AWSCRT.ClientBootstrap"><code>AWSCRT.ClientBootstrap</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct ClientBootstrap
    ptr::Ptr{aws_client_bootstrap}
end</code></pre><p>Handles creation and setup of client socket connections.</p><p>Note on advanced use: the internal constructor on this struct has been left at its default so that you can bring your own native data if you need to. However, you are then responsible for the memory management of that data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L111-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.ClientBootstrap-Tuple{EventLoopGroup, HostResolver}" href="#AWSCRT.ClientBootstrap-Tuple{EventLoopGroup, HostResolver}"><code>AWSCRT.ClientBootstrap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ClientBootstrap(el_group::EventLoopGroup, host_resolver::HostResolver)</code></pre><p>Handles creation and setup of client socket connections.</p><p>Arguments:</p><ul><li><code>el_group (EventLoopGroup)</code>: EventLoopGroup to use.</li><li><code>host_resolver (HostResolver)</code>: DNS host resolver to use.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L124-L132">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.ClientTLSContext" href="#AWSCRT.ClientTLSContext"><code>AWSCRT.ClientTLSContext</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct ClientTLSContext
    ptr::Ptr{aws_tls_ctx}
end</code></pre><p>Client TLS context. A context is expensive, but can be used for the lifetime of the application by all outgoing connections that wish to use the same TLS configuration.</p><p>Note on advanced use: the internal constructor on this struct has been left at its default so that you can bring your own native data if you need to. However, you are then responsible for the memory management of that data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L276-L286">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.ClientTLSContext-Tuple{AWSCRT.TLSContextOptions}" href="#AWSCRT.ClientTLSContext-Tuple{AWSCRT.TLSContextOptions}"><code>AWSCRT.ClientTLSContext</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ClientTLSContext(options::TLSContextOptions)</code></pre><p>Client TLS context. A context is expensive, but can be used for the lifetime of the application by all outgoing connections that wish to use the same TLS configuration.</p><p>Arguments:</p><ul><li><code>options (TLSContextOptions)</code>: Configuration options.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L291-L300">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.EventLoopGroup" href="#AWSCRT.EventLoopGroup"><code>AWSCRT.EventLoopGroup</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">EventLoopGroup(num_threads::Union{Int,Nothing} = nothing, cpu_group::Union{Int,Nothing} = nothing)</code></pre><p>A collection of event-loops. An event-loop is a thread for doing async work, such as I/O.</p><p>Arguments:</p><ul><li><code>num_threads (Union{Int,Nothing}) (default=nothing)</code>: Maximum number of event-loops to create. If unspecified, one is created for each processor on the machine.</li><li><code>cpu_group (Union{Int,Nothing}) (default=nothing)</code>: Optional processor group to which all threads will be pinned. Useful for systems with non-uniform memory access (NUMA) nodes. If specified, the number of threads will be capped at the number of processors in the group.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L15-L24">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.EventLoopGroup" href="#AWSCRT.EventLoopGroup"><code>AWSCRT.EventLoopGroup</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct EventLoopGroup
    ptr::Ptr{aws_event_loop_group}
end</code></pre><p>A collection of event-loops. An event-loop is a thread for doing async work, such as I/O.</p><p>Note on advanced use: the internal constructor on this struct has been left at its default so that you can bring your own native data if you need to. However, you are then responsible for the memory management of that data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.HostResolver" href="#AWSCRT.HostResolver"><code>AWSCRT.HostResolver</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">HostResolver(el_group::EventLoopGroup, max_hosts::Int = 16)</code></pre><p>Default DNS host resolver.</p><p>Arguments:</p><ul><li><code>el_group (EventLoopGroup)</code>: EventLoopGroup to use.</li><li><code>max_hosts (Int) (default=16)</code>: Max host names to cache.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L75-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.HostResolver" href="#AWSCRT.HostResolver"><code>AWSCRT.HostResolver</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct HostResolver
    ptr::Ptr{aws_host_resolver}
end</code></pre><p>Default DNS host resolver.</p><p>Note on advanced use: the internal constructor on this struct has been left at its default so that you can bring your own native data if you need to. However, you are then responsible for the memory management of that data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L62-L70">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.MQTTClient" href="#AWSCRT.MQTTClient"><code>AWSCRT.MQTTClient</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MQTTClient(
    tls_ctx::Union{ClientTLSContext,Nothing},
    bootstrap::ClientBootstrap = get_or_create_default_client_bootstrap(),
)</code></pre><p>MQTT client.</p><p>Arguments:</p><ul><li><code>tls_ctx (Union{ClientTLSContext,Nothing})</code>: TLS context for secure socket connections. If <code>nothing</code>, an unencrypted connection is used.</li><li><code>bootstrap (ClientBootstrap) (default=get_or_create_default_client_bootstrap())</code>: Client bootstrap to use when initiating new socket connections. Uses the singleton by default.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L14-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.MQTTConnection" href="#AWSCRT.MQTTConnection"><code>AWSCRT.MQTTConnection</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">MQTTConnection(client::MQTTClient)</code></pre><p>MQTT client connection.</p><p>Arguments:</p><ul><li><code>client ([MQTTClient](@ref))</code>: MQTT client to spawn connection from.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L99-L106">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.OnConnectionInterrupted" href="#AWSCRT.OnConnectionInterrupted"><code>AWSCRT.OnConnectionInterrupted</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">on_connection_interrupted(
    connection::MQTTConnection,
    error_code::Int,
)</code></pre><p>A callback invoked whenever the MQTT connection is lost. The MQTT client will automatically attempt to reconnect.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: The connection.</li><li><code>error_code (Int)</code>: Error which caused connection loss.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L46-L58">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.OnConnectionResumed" href="#AWSCRT.OnConnectionResumed"><code>AWSCRT.OnConnectionResumed</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">on_connection_resumed(
    connection::MQTTConnection,
    return_code::aws_mqtt_connect_return_code,
    session_present::Bool,
)</code></pre><p>A callback invoked whenever the MQTT connection is automatically resumed.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: The connection.</li><li><code>return_code (aws_mqtt_connect_return_code)</code>: Connect return code received from the server.</li><li><code>session_present (Bool)</code>: <code>true</code> if resuming existing session. <code>false</code> if new session. Note that the server has forgotten all previous subscriptions if this is <code>false</code>. Subscriptions can be re-established via <a href="#AWSCRT.resubscribe_existing_topics-Tuple{MQTTConnection}"><code>resubscribe_existing_topics</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L61-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.OnMessage" href="#AWSCRT.OnMessage"><code>AWSCRT.OnMessage</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">on_message(
    topic::String,
    payload::String,
    dup::Bool,
    qos::aws_mqtt_qos,
    retain::Bool,
)</code></pre><p>A callback invoked when a message is received.</p><p>Arguments:</p><ul><li><code>topic (String)</code>: Topic receiving message.</li><li><code>payload (String)</code>: Payload of message.</li><li><code>dup (Bool)</code>: DUP flag. If True, this might be re-delivery of an earlier attempt to send the message.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li><li><code>retain (Bool)</code>: Retain flag. If <code>true</code>, the message was sent as a result of a new subscription being made by the client.</li></ul><p>Returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L77-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.OnShadowMessage" href="#AWSCRT.OnShadowMessage"><code>AWSCRT.OnShadowMessage</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">on_shadow_message(
    shadow_client::ShadowClient,
    topic::String,
    payload::String,
    dup::Bool,
    qos::aws_mqtt_qos,
    retain::Bool,
)</code></pre><p>A callback invoked when a shadow document message is received.</p><p>Arguments:</p><ul><li><code>shadow_client (ShadowClient)</code>: Shadow client that received the message.</li><li><code>topic (String)</code>: Topic receiving message.</li><li><code>payload (String)</code>: Payload of message.</li><li><code>dup (Bool)</code>: DUP flag. If True, this might be re-delivery of an earlier attempt to send the message.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li><li><code>retain (Bool)</code>: Retain flag. If <code>true</code>, the message was sent as a result of a new subscription being made by the client.</li></ul><p>Returns <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/IOTShadow.jl#L21-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.ShadowClient" href="#AWSCRT.ShadowClient"><code>AWSCRT.ShadowClient</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ShadowClient(
    connection::MQTTConnection,
)</code></pre><p>Device Shadow service client. <a href="https://docs.aws.amazon.com/iot/latest/developerguide/iot-device-shadows.html">AWS Documentation</a>.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: MQTT connection to publish and subscribe on.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/IOTShadow.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.TLSConnectionOptions" href="#AWSCRT.TLSConnectionOptions"><code>AWSCRT.TLSConnectionOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TLSConnectionOptions(
    client_tls_context::ClientTLSContext,
    alpn_list::Union{Vector{String},Nothing} = nothing,
    server_name::Union{String,Nothing} = nothing,
)</code></pre><p>Connection-specific TLS options. Note that while a TLS context is an expensive object, this object is cheap.</p><p>Arguments:</p><ul><li><code>client_tls_context (ClientTLSContext)</code>: TLS context. A context can be shared by many connections.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: Connection-specific Application Layer Protocol Negotiation (ALPN) list. This overrides any ALPN list on the TLS context in the client this connection was made with. ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>.</li><li><code>server_name (Union{String,Nothing}) (default=nothing)</code>: Name for TLS Server Name Indication (SNI). Also used for x.509 validation.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L380-L394">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.TLSConnectionOptions" href="#AWSCRT.TLSConnectionOptions"><code>AWSCRT.TLSConnectionOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">mutable struct TLSConnectionOptions
    ptr::Ref{aws_tls_connection_options}
end</code></pre><p>Connection-specific TLS options. Note that while a TLS context is an expensive object, this object is cheap.</p><p>Note on advanced use: the internal constructor on this struct has been left at its default so that you can bring your own native data if you need to. However, you are then responsible for the memory management of that data.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L366-L375">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.TLSContextOptions" href="#AWSCRT.TLSContextOptions"><code>AWSCRT.TLSContextOptions</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TLSContextOptions(;
    min_tls_version::aws_tls_versions = AWS_IO_TLS_VER_SYS_DEFAULTS,
    ca_dirpath::Union{String,Nothing} = nothing,
    ca_filepath::Union{String,Nothing} = nothing,
    ca_data::Union{String,Nothing} = nothing,
    alpn_list::Union{Vector{String},Nothing} = nothing,
    cert_data::Union{String,Nothing} = nothing,
    pk_data::Union{String,Nothing} = nothing,
    verify_peer::Bool = true,
)</code></pre><p>Options to create a TLS context.</p><p>Arguments:</p><ul><li><p><code>min_tls_version (aws_tls_versions) (default=AWS_IO_TLS_VER_SYS_DEFAULTS)</code>: Minimum TLS version to use. System defaults are used by default.</p></li><li><p><code>ca_dirpath (Union{String,Nothing}) (default=nothing)</code>: Path to directory containing trusted certificates, which will overrides the default trust store. Only supported on Unix.</p></li><li><p><code>ca_filepath (Union{String,Nothing}) (default=nothing)</code>: Path to file containing PEM armored chain of trusted CA certificates.</p></li><li><p><code>ca_data (Union{String,Nothing}) (default=nothing)</code>: PEM armored chain of trusted CA certificates.</p></li><li><p><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: If set, names to use in Application Layer Protocol Negotiation (ALPN). ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>. This can be customized per connection; see <a href="#AWSCRT.TLSConnectionOptions"><code>TLSConnectionOptions</code></a>.</p></li><li><p><code>cert_data (Union{String,Nothing}) (default=nothing)</code>: Certificate contents. Treated as PKCS #7 PEM armored.</p></li><li><p><code>pk_data (Union{String,Nothing}) (default=nothing)</code>: Private key contents. Treated as PKCS #7 PEM armored.</p></li><li><p><code>verify_peer (Bool) (default=true)</code>: Whether to validate the peer&#39;s x.509 certificate.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L166-L186">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.Will" href="#AWSCRT.Will"><code>AWSCRT.Will</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Will(
    topic::String,
    qos::aws_mqtt_qos,
    payload::String,
    retain::Bool,
)</code></pre><p>A Will message is published by the server if a client is lost unexpectedly.</p><p>The Will message is stored on the server when a client connects. It is published if the client connection is lost without the server receiving a DISCONNECT packet.</p><p>[MQTT-3.1.2-8]</p><p>Arguments:</p><ul><li><code>topic (String)</code>: Topic to publish Will message on.</li><li><code>qos (aws_mqtt_qos)</code>: QoS used when publishing the Will message.</li><li><code>payload (String)</code>: Content of Will message.</li><li><code>retain (Bool)</code>: Whether the Will message is to be retained when it is published.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L147-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.connect-Tuple{MQTTConnection, String, Integer, String}" href="#AWSCRT.connect-Tuple{MQTTConnection, String, Integer, String}"><code>AWSCRT.connect</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">connect(
    connection::MQTTConnection,
    server_name::String,
    port::Integer,
    client_id::String;
    clean_session::Bool = true,
    on_connection_interrupted::Union{OnConnectionInterrupted,Nothing} = nothing,
    on_connection_resumed::Union{OnConnectionResumed,Nothing} = nothing,
    reconnect_min_timeout_secs::Integer = 5,
    reconnect_max_timeout_secs::Integer = 60,
    keep_alive_secs::Integer = 1200,
    ping_timeout_ms::Integer = 3000,
    protocol_operation_timeout_ms::Integer = 0,
    will::Union{Will,Nothing} = nothing,
    username::Union{String,Nothing} = nothing,
    password::Union{String,Nothing} = nothing,
    socket_options = Ref(aws_socket_options(AWS_SOCKET_STREAM, AWS_SOCKET_IPV6, 5000, 0, 0, 0, false)),
    alpn_list::Union{Vector{String},Nothing} = nothing,
    use_websockets::Bool = false,
    websocket_handshake_transform = nothing, # TODO union type
    proxy_options = nothing, # TODO union type
)</code></pre><p>Open the actual connection to the server (async).</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: Connection to use.</li><li><code>server_name (String)</code>: Server name to connect to.</li><li><code>port (Integer)</code>: Server port to connect to.</li><li><code>client_id (String)</code>: ID to place in CONNECT packet. Must be unique across all devices/clients. If an ID is already in use, the other client will be disconnected.</li><li><code>clean_session (Bool) (default=true)</code>: Whether or not to start a clean session with each reconnect. If <code>true</code>, the server will forget all subscriptions with each reconnect. Set <code>false</code> to request that the server resume an existing session or start a new session that may be resumed after a connection loss. The <code>session_present</code> bool in the connection callback informs whether an existing session was successfully resumed. If an existing session is resumed, the server remembers previous subscriptions and sends mesages (with QoS level 1 or higher) that were published while the client was offline.</li><li><code>on_connection_interrupted (Union{OnConnectionInterrupted,Nothing}) (default=nothing)</code>: Optional callback invoked whenever the MQTT connection is lost. The MQTT client will automatically attempt to reconnect. See <a href="#AWSCRT.OnConnectionInterrupted"><code>OnConnectionInterrupted</code></a>.</li><li><code>on_connection_resumed (Union{OnConnectionResumed,Nothing}) (default=nothing)</code>: Optional callback invoked whenever the MQTT connection is automatically resumed. See <a href="#AWSCRT.OnConnectionResumed"><code>OnConnectionResumed</code></a>.</li><li><code>reconnect_min_timeout_secs (Integer) (default=5)</code>: Minimum time to wait between reconnect attempts. Must be &lt;= <code>reconnect_max_timeout_secs</code>. Wait starts at min and doubles with each attempt until max is reached.</li><li><code>reconnect_max_timeout_secs (Integer) (default=60)</code>: Maximum time to wait between reconnect attempts. Must be &gt;= <code>reconnect_min_timeout_secs</code>. Wait starts at min and doubles with each attempt until max is reached.</li><li><code>keep_alive_secs (Integer) (default=1200)</code>: The keep alive value (seconds) to send in CONNECT packet. A PING will automatically be sent at this interval. The server will assume the connection is lost if no PING is received after 1.5X this value. This duration must be longer than <code>ping_timeout_ms</code>.</li><li><code>ping_timeout_ms (Integer) (default=3000)</code>: Milliseconds to wait for ping response before client assumes the connection is invalid and attempts to reconnect. This duration must be shorter than <code>keep_alive_secs</code>.</li><li><code>protocol_operation_timeout_ms (Integer) (default=0)</code>: Milliseconds to wait for a response to an operation that requires a response by the server. Set to zero to disable timeout. Otherwise, the operation will fail if no response is received within this amount of time after the packet is written to the socket. This works with PUBLISH (if QoS level &gt; 0) and UNSUBSCRIBE.</li><li><code>will (Union{Will,Nothing}) (default=nothing)</code>: Will to send with CONNECT packet. The will is published by the server when its connection to the client is unexpectedly lost.</li><li><code>username (Union{String,Nothing}) (default=nothing)</code>: Username to connect with.</li><li><code>password (Union{String,Nothing}) (default=nothing)</code>: Password to connect with.</li><li><code>socket_options (Ref(aws_socket_options}) (default=Ref(aws_socket_options(AWS_SOCKET_STREAM, AWS_SOCKET_IPV6, 5000, 0, 0, 0, false)))</code>: Optional socket options.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: Connection-specific Application Layer Protocol Negotiation (ALPN) list. This overrides any ALPN list on the TLS context in the client this connection was made with. ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>.</li><li><code>use_websockets (Bool) (default=false)</code>: # TODO</li><li><code>websocket_handshake_transform (nothing) (default=nothing)</code>: # TODO</li><li><code>proxy_options (nothing) (default=nothing)</code>: # TODO</li></ul><p>Returns a task which completes when the connection succeeds or fails.</p><p>If the connection succeeds, the task will contain a dict containing the following keys:</p><ul><li><code>:session_present</code>: <code>true</code> if resuming an existing session, <code>false</code> if new session</li></ul><p>If the connection fails, the task will throw an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L222-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.create_client_with_mtls-Tuple{Any, Any}" href="#AWSCRT.create_client_with_mtls-Tuple{Any, Any}"><code>AWSCRT.create_client_with_mtls</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_client_with_mtls(cert_data, pk_data; kwargs...)</code></pre><p>Create options configured for use with mutual TLS in client mode. Both buffers are treated as PKCS #7 PEM armored.</p><p>Arguments:</p><ul><li><code>cert_data (String)</code>: Certificate contents</li><li><code>pk_data (String)</code>: Private key contents.</li><li><code>ca_dirpath (Union{String,Nothing}) (default=nothing)</code>: Path to directory containing trusted certificates, which will overrides the default trust store. Only supported on Unix.</li><li><code>ca_filepath (Union{String,Nothing}) (default=nothing)</code>: Path to file containing PEM armored chain of trusted CA certificates.</li><li><code>ca_data (Union{String,Nothing}) (default=nothing)</code>: PEM armored chain of trusted CA certificates.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: If set, names to use in Application Layer Protocol Negotiation (ALPN). ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>. This can be customized per connection; see <a href="#AWSCRT.TLSConnectionOptions"><code>TLSConnectionOptions</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L229-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.create_client_with_mtls_from_path-Tuple{Any, Any}" href="#AWSCRT.create_client_with_mtls_from_path-Tuple{Any, Any}"><code>AWSCRT.create_client_with_mtls_from_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_client_with_mtls_from_path(cert_filepath, pk_filepath; kwargs...)</code></pre><p>Create options configured for use with mutual TLS in client mode. Both files are treated as PKCS #7 PEM armored. They are loaded from disk and stored in buffers internally.</p><p>Arguments:</p><ul><li><code>cert_filepath (String)</code>: Path to certificate file.</li><li><code>pk_filepath (String)</code>: Path to private key file.</li><li><code>ca_dirpath (Union{String,Nothing}) (default=nothing)</code>: Path to directory containing trusted certificates, which will overrides the default trust store. Only supported on Unix.</li><li><code>ca_filepath (Union{String,Nothing}) (default=nothing)</code>: Path to file containing PEM armored chain of trusted CA certificates.</li><li><code>ca_data (Union{String,Nothing}) (default=nothing)</code>: PEM armored chain of trusted CA certificates.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: If set, names to use in Application Layer Protocol Negotiation (ALPN). ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>. This can be customized per connection; see <a href="#AWSCRT.TLSConnectionOptions"><code>TLSConnectionOptions</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L214-L225">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.create_server-Tuple{Any, Any}" href="#AWSCRT.create_server-Tuple{Any, Any}"><code>AWSCRT.create_server</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_server(cert_data, pk_data; kwargs...)</code></pre><p>Create options configured for use in server mode. Both buffers are treated as PKCS #7 PEM armored.</p><p>Arguments:</p><ul><li><code>cert_data (String)</code>: Certificate contents</li><li><code>pk_data (String)</code>: Private key contents.</li><li><code>ca_dirpath (Union{String,Nothing}) (default=nothing)</code>: Path to directory containing trusted certificates, which will overrides the default trust store. Only supported on Unix.</li><li><code>ca_filepath (Union{String,Nothing}) (default=nothing)</code>: Path to file containing PEM armored chain of trusted CA certificates.</li><li><code>ca_data (Union{String,Nothing}) (default=nothing)</code>: PEM armored chain of trusted CA certificates.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: If set, names to use in Application Layer Protocol Negotiation (ALPN). ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>. This can be customized per connection; see <a href="#AWSCRT.TLSConnectionOptions"><code>TLSConnectionOptions</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L261-L271">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.create_server_from_path-Tuple{Any, Any}" href="#AWSCRT.create_server_from_path-Tuple{Any, Any}"><code>AWSCRT.create_server_from_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_server_from_path(cert_filepath, pk_filepath; kwargs...)</code></pre><p>Create options configured for use in server mode. Both files are treated as PKCS #7 PEM armored. They are loaded from disk and stored in buffers internally.</p><p>Arguments:</p><ul><li><code>cert_filepath (String)</code>: Path to certificate file.</li><li><code>pk_filepath (String)</code>: Path to private key file.</li><li><code>ca_dirpath (Union{String,Nothing}) (default=nothing)</code>: Path to directory containing trusted certificates, which will overrides the default trust store. Only supported on Unix.</li><li><code>ca_filepath (Union{String,Nothing}) (default=nothing)</code>: Path to file containing PEM armored chain of trusted CA certificates.</li><li><code>ca_data (Union{String,Nothing}) (default=nothing)</code>: PEM armored chain of trusted CA certificates.</li><li><code>alpn_list (Union{Vector{String},Nothing}) (default=nothing)</code>: If set, names to use in Application Layer Protocol Negotiation (ALPN). ALPN is not supported on all systems, see <a href="@ref"><code>aws_tls_is_alpn_available</code></a>. This can be customized per connection; see <a href="#AWSCRT.TLSConnectionOptions"><code>TLSConnectionOptions</code></a>.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSIO.jl#L246-L257">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.disconnect-Tuple{MQTTConnection}" href="#AWSCRT.disconnect-Tuple{MQTTConnection}"><code>AWSCRT.disconnect</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">disconnect(connection::MQTTConnection)</code></pre><p>Close the connection to the server (async). Returns a task which completes when the connection is closed. The task will contain nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L459-L465">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.on_message-Tuple{MQTTConnection, Union{Nothing, Function}}" href="#AWSCRT.on_message-Tuple{MQTTConnection, Union{Nothing, Function}}"><code>AWSCRT.on_message</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">on_message(connection::MQTTConnection, callback::Union{OnMessage,Nothing})</code></pre><p>Set callback to be invoked when ANY message is received.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: Connection to use.</li><li><code>callback (Union{OnMessage,Nothing})</code>: Optional callback invoked when message received. See <a href="#AWSCRT.OnMessage"><code>OnMessage</code></a> for the required signature. Set to <code>nothing</code> to clear this callback.</li></ul><p>Returns nothing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L655-L665">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.publish" href="#AWSCRT.publish"><code>AWSCRT.publish</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">publish(connection::MQTTConnection, topic::String, payload::String, qos::aws_mqtt_qos, retain::Bool = false)</code></pre><p>Publish message (async). If the device is offline, the PUBLISH packet will be sent once the connection resumes.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: Connection to use.</li><li><code>topic (String)</code>: Topic name.</li><li><code>payload (String)</code>: Contents of message.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li><li><code>retain (Bool)</code>: If <code>true</code>, the server will store the message and its QoS so that it can be delivered to future subscribers whose subscriptions match its topic name.</li></ul><p>Returns a task and the ID of the PUBLISH packet. The QoS determines when the task completes:</p><ul><li>For QoS 0, completes as soon as the packet is sent.</li><li>For QoS 1, completes when PUBACK is received.</li><li>For QoS 2, completes when PUBCOMP is received.</li></ul><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the PUBLISH packet that is complete.</li></ul><p>If unsuccessful, the task will throw an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L1000-L1014">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.publish-Tuple{ShadowClient, String, String, LibAWSCRT.aws_mqtt_qos}" href="#AWSCRT.publish-Tuple{ShadowClient, String, String, LibAWSCRT.aws_mqtt_qos}"><code>AWSCRT.publish</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">publish(client::ShadowClient, topic::String, payload::String, qos::aws_mqtt_qos)</code></pre><p>Publishes the payload to the topic under the configured shadow topic.</p><p>Arguments:</p><ul><li><code>client (ShadowClient)</code>: Shadow client to use.</li><li><code>topic (String)</code>: Topic name, not including the shadow topic prefix. E.g. <code>/get</code>.</li><li><code>payload (String)</code>: Message contents.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li></ul><p>Returns a task and the ID of the PUBLISH packet. The QoS determines when the task completes:</p><ul><li>For QoS 0, completes as soon as the packet is sent.</li><li>For QoS 1, completes when PUBACK is received.</li><li>For QoS 2, completes when PUBCOMP is received.</li></ul><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the PUBLISH packet that is complete.</li></ul><p>If unsuccessful, the task will throw an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/IOTShadow.jl#L108-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.resubscribe_existing_topics-Tuple{MQTTConnection}" href="#AWSCRT.resubscribe_existing_topics-Tuple{MQTTConnection}"><code>AWSCRT.resubscribe_existing_topics</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">resubscribe_existing_topics(connection::MQTTConnection)</code></pre><p>Subscribe again to all current topics. This is to help when resuming a connection with a clean session.</p><p>Returns a task and the ID of the SUBSCRIBE packet. The task completes when a SUBACK is received from the server.</p><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the SUBSCRIBE packet being acknowledged.</li><li><code>:topics (Vector{Tuple{Union{String,Nothing},aws_mqtt_qos}})</code>: Topic filter of the SUBSCRIBE packet being acknowledged and its QoS level. The topic will be <code>nothing</code> if the topic failed to resubscribe. The vector will be empty if there were no topics to resubscribe.</li></ul><p>If unsuccessful, the task contains an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L883-L897">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.subscribe-Tuple{MQTTConnection, String, LibAWSCRT.aws_mqtt_qos, Function}" href="#AWSCRT.subscribe-Tuple{MQTTConnection, String, LibAWSCRT.aws_mqtt_qos, Function}"><code>AWSCRT.subscribe</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subscribe(connection::MQTTConnection, topic::String, qos::aws_mqtt_qos, callback::OnMessage)</code></pre><p>Subsribe to a topic filter (async). The client sends a SUBSCRIBE packet and the server responds with a SUBACK. This function may be called while the device is offline, though the async operation cannot complete successfully until the connection resumes. Once subscribed, <code>callback</code> is invoked each time a message matching the <code>topic</code> is received. It is possible for such messages to arrive before the SUBACK is received.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: Connection to use.</li><li><code>topic (String)</code>: Subscribe to this topic filter, which may include wildcards.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li><li><code>callback (OnMessage)</code>: Callback invoked when message received. See <a href="#AWSCRT.OnMessage"><code>OnMessage</code></a> for the required signature.</li></ul><p>Returns a task and the ID of the SUBSCRIBE packet. The task completes when a SUBACK is received from the server.</p><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the SUBSCRIBE packet being acknowledged.</li><li><code>:topic (String)</code>: Topic filter of the SUBSCRIBE packet being acknowledged.</li><li><code>:qos (aws_mqtt_qos)</code>: Maximum QoS that was granted by the server. This may be lower than the requested QoS.</li></ul><p>If unsuccessful, the task contains an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L566-L583">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.subscribe-Tuple{ShadowClient, String, Union{Nothing, String}, LibAWSCRT.aws_mqtt_qos, Function}" href="#AWSCRT.subscribe-Tuple{ShadowClient, String, Union{Nothing, String}, LibAWSCRT.aws_mqtt_qos, Function}"><code>AWSCRT.subscribe</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">subscribe(
    client::ShadowClient,
    thing_name::String,
    shadow_name::Union{String,Nothing},
    qos::aws_mqtt_qos,
    callback::OnShadowMessage,
)</code></pre><p>Subscribes to all topics under the given shadow document using a wildcard, including but not limited to:</p><ul><li><code>/get/accepted</code></li><li><code>/get/rejected</code></li><li><code>/update/delta</code></li><li><code>/update/accepted</code></li><li><code>/update/documents</code></li><li><code>/update/rejected</code></li><li><code>/delete/accepted</code></li><li><code>/delete/rejected</code></li></ul><p>Arguments:</p><ul><li><code>client (ShadowClient)</code>: Shadow client to use.</li><li><code>thing_name (String)</code>: Name of the Thing in AWS IoT.</li><li><code>shadow_name (Union{String,Nothing})</code>: Shadow name for a named shadow document or <code>nothing</code> for an unnamed shadow document.</li><li><code>qos (aws_mqtt_qos)</code>: Maximum requested QoS that server may use when sending messages to the client. The server may grant a lower QoS in the SUBACK (see returned task).</li><li><code>callback (OnShadowMessage)</code>: Callback invoked when message received. See <a href="#AWSCRT.OnShadowMessage"><code>OnShadowMessage</code></a> for the required signature.</li></ul><p>Returns the tasks from each subscribe call (<code>/get/#</code>, <code>/update/#</code>, and <code>/delete/#</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/IOTShadow.jl#L45-L72">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.unsubscribe-Tuple{MQTTConnection, String}" href="#AWSCRT.unsubscribe-Tuple{MQTTConnection, String}"><code>AWSCRT.unsubscribe</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unsubscribe(connection::MQTTConnection, topic::String)</code></pre><p>Unsubscribe from a topic filter (async). The client sends an UNSUBSCRIBE packet, and the server responds with an UNSUBACK.</p><p>Arguments:</p><ul><li><code>connection (MQTTConnection)</code>: Connection to use.</li><li><code>topic (String)</code>: Unsubscribe from this topic filter.</li></ul><p>Returns a task and the ID of the UNSUBSCRIBE packet. The task completes when an UNSUBACK is received from the server.</p><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the UNSUBSCRIBE packet being acknowledged.</li></ul><p>If unsuccessful, the task will throw an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/AWSMQTT.jl#L744-L755">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="AWSCRT.unsubscribe-Tuple{ShadowClient}" href="#AWSCRT.unsubscribe-Tuple{ShadowClient}"><code>AWSCRT.unsubscribe</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">unsubscribe(client::ShadowClient)</code></pre><p>Unsubscribes from the shadow document topics.</p><p>Arguments:</p><ul><li><code>client (ShadowClient)</code>: Shadow client to use.</li></ul><p>Returns a task and the ID of the UNSUBSCRIBE packet. The task completes when an UNSUBACK is received from the server.</p><p>If successful, the task will contain a dict with the following members:</p><ul><li><code>:packet_id (Int)</code>: ID of the UNSUBSCRIBE packet being acknowledged.</li></ul><p>If unsuccessful, the task will throw an exception.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Octogonapus/AWSCRT.jl/blob/f68bb2c3a8ec2cb6e0192ac8f24513a1742cf16b/src/IOTShadow.jl#L92-L101">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.17 on <span class="colophon-date" title="Monday 23 May 2022 15:32">Monday 23 May 2022</span>. Using Julia version 1.7.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
